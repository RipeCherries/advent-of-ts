# –û—Ç–≥–æ–≤–æ—Ä–∫–∏, –æ—Ç–≥–æ–≤–æ—Ä–∫–∏

## üá∫üá∏ –û–ø–∏—Å–∞–Ω–∏–µ

> [Last night, while the reindeer plotted on how to leverage üíã Crystal Claus with their knowledge
> of her affair with ü™© Jamie Glitterglum, üíã Crystal and ü™© Jamie met up in a panic.
> Today, üéÖ Santa is beginning to suspect something]
>
> [üéÖ Santa] Dear.. Where were you last night?
>
> [üíã Crystal, turning bright red in embarrassment] Oh. Uh, I was out doing karaoke with some friends.
> Kendrick Lamar and Opeth both released albums on the same day last month,
> so we've been learning all the songs to both. [coughing nervously] Oh [cough] and also we were trying
> out a new drink one of the elves came up with. It's a bit like a mojito but instead of mint it's..
> well it's a whole thing. Then we also
>
> [üéÖ Santa] You seem nervous.
>
> [üíã Crystal, sweating] Oh, no, not at all! Not at all! It's just so hard to remember, you can understand!
>
> [Later that night üíã Crystal and ü™© Jamie met again.]
>
> [üíã Crystal] We're in BIG trouble. What are we gonna do!!? We need a new excuse,
> and we need to add something to it. But... what??
>
> [ü™© Jamie] Talk to him again, but this time be ready to add to your excuse! Just bury him in details.
> üéÖ Santa tunes out if you say anything longer than two sentences about non-cookie-related topics.
> Think of a few different excuses, just in case.

We already have a `Excuse` that üíã Crystal provided üéÖ Santa, but now we need to extend it in some way.
We need it to be general-purpose, so üíã Crystal can try a few different ideas out.

## üá∑üá∫ –û–ø–∏—Å–∞–Ω–∏–µ

> [–ü—Ä–æ—à–ª–æ–π –Ω–æ—á—å—é, –ø–æ–∫–∞ —Å–µ–≤–µ—Ä–Ω—ã–µ –æ–ª–µ–Ω–∏ —Å—Ç—Ä–æ–∏–ª–∏ –ø–ª–∞–Ω—ã, –∫–∞–∫ —à–∞–Ω—Ç–∞–∂–∏—Ä–æ–≤–∞—Ç—å üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –ö–ª–∞—É—Å
> –µ—ë —Ä–æ–º–∞–Ω–æ–º —Å ü™© –î–∂–µ–π–º–∏ –ì–ª–∏—Ç—Ç–µ—Ä–≥–ª—É–º–æ–º, üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –∏ ü™© –î–∂–µ–π–º–∏ –≤ –ø–∞–Ω–∏–∫–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å.
> –°–µ–≥–æ–¥–Ω—è üéÖ –°–∞–Ω—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–∑—Ä–µ–≤–∞—Ç—å.]
>
> [üéÖ –°–∞–Ω—Ç–∞] –î–æ—Ä–æ–≥–∞—è... –ì–¥–µ —Ç—ã –±—ã–ª–∞ –ø—Ä–æ—à–ª–æ–π –Ω–æ—á—å—é?
>
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª, –∫—Ä–∞—Å–Ω–µ—è –æ—Ç —Å–º—É—â–µ–Ω–∏—è] –û—Ö. –≠–º, —è –±—ã–ª–∞ –Ω–∞ –∫–∞—Ä–∞–æ–∫–µ —Å –¥—Ä—É–∑—å—è–º–∏. –í –ø—Ä–æ—à–ª–æ–º –º–µ—Å—è—Ü–µ –ö–µ–Ω–¥—Ä–∏–∫ –õ–∞–º–∞—Ä
> –∏ Opeth –≤—ã–ø—É—Å—Ç–∏–ª–∏ –∞–ª—å–±–æ–º—ã –≤ –æ–¥–∏–Ω –¥–µ–Ω—å, –∏ –º—ã –≤—Å–µ —É—á–∏–ª–∏ –ø–µ—Å–Ω–∏ —Å –æ–±–æ–∏—Ö –∞–ª—å–±–æ–º–æ–≤. [–Ω–µ—Ä–≤–Ω–æ –∫–∞—à–ª—è–µ—Ç] –ê—Ö, –¥–∞ [–∫–∞—à–µ–ª—å],
> –º—ã –µ—â—ë –ø—Ä–æ–±–æ–≤–∞–ª–∏ –Ω–æ–≤—ã–π –Ω–∞–ø–∏—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–¥—É–º–∞–ª –æ–¥–∏–Ω –∏–∑ —ç–ª—å—Ñ–æ–≤. –≠—Ç–æ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ –º–æ—Ö–∏—Ç–æ, –Ω–æ –≤–º–µ—Å—Ç–æ –º—è—Ç—ã —Ç–∞–º...
> –Ω—É, —ç—Ç–æ —Ü–µ–ª–∞—è –∏—Å—Ç–æ—Ä–∏—è. –ê –ø–æ—Ç–æ–º –º—ã –µ—â—ë...
>
> [üéÖ –°–∞–Ω—Ç–∞] –¢—ã –≤—ã–≥–ª—è–¥–∏—à—å –Ω–µ—Ä–≤–Ω–æ–π.
>
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª, –ø–æ–∫—Ä—ã–≤–∞—è—Å—å –ø–æ—Ç–æ–º] –û, –Ω–µ—Ç, —Å–æ–≤—Å–µ–º –Ω–µ—Ç! –°–æ–≤—Å–µ–º –Ω–µ—Ç! –ü—Ä–æ—Å—Ç–æ —Ç–∞–∫ —Ç—Ä—É–¥–Ω–æ –≤—Å—ë –≤—Å–ø–æ–º–Ω–∏—Ç—å, —Ç—ã –∂–µ –ø–æ–Ω–∏–º–∞–µ—à—å!
>
> [–ü–æ–∑–∂–µ —Ç–æ–π –∂–µ –Ω–æ—á—å—é üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –∏ ü™© –î–∂–µ–π–º–∏ —Å–Ω–æ–≤–∞ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å.]
>
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –£ –Ω–∞—Å –û–ì–†–û–ú–ù–´–ï –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–∏. –ß—Ç–æ –∂–µ –Ω–∞–º –¥–µ–ª–∞—Ç—å!!?
> –ù–∞–º –Ω—É–∂–Ω–∞ –Ω–æ–≤–∞—è –æ—Ç–≥–æ–≤–æ—Ä–∫–∞, –∏ –µ—ë –Ω—É–∂–Ω–æ —á–µ–º-—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å. –ù–æ —á–µ–º??
>
> [ü™© –î–∂–µ–π–º–∏] –ü–æ–≥–æ–≤–æ—Ä–∏ —Å –Ω–∏–º —Å–Ω–æ–≤–∞, –Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –±—É–¥—å –≥–æ—Ç–æ–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ—é –æ—Ç–≥–æ–≤–æ—Ä–∫—É!
> –ü—Ä–æ—Å—Ç–æ –∑–∞–≤–∞–ª–∏ –µ–≥–æ –¥–µ—Ç–∞–ª—è–º–∏. üéÖ –°–∞–Ω—Ç–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å –±–æ–ª—å—à–µ –¥–≤—É—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ —á—ë–º-—Ç–æ,
> —á—Ç–æ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å –ø–µ—á–µ–Ω—å–µ–º. –ü—Ä–∏–¥—É–º–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≥–æ–≤–æ—Ä–æ–∫, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π.

–£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å `Excuse` (–æ—Ç–≥–æ–≤–æ—Ä–∫–∞), –∫–æ—Ç–æ—Ä—É—é üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –¥–∞–ª–∞ üéÖ –°–∞–Ω—Ç–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å –µ—ë –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å.
–û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π, —á—Ç–æ–±—ã üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –º–æ–≥–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–¥–µ–∏.

## üíª –†–µ—à–µ–Ω–∏–µ

–ù–∞ –≤—Ö–æ–¥ —Ç–∏–ø–∞ `Excuse` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç generic `T`, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–∞–∫ `Record<string, string>`.
–î–∞–ª–µ–µ, –º—ã —Ç–∏–ø–∏–∑–∏—Ä—É–µ–º –º–µ—Ç–æ–¥ `new`. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –æ–±—ä–µ–∫—Ç `input` —Å —Ç–∏–ø–æ–º `T`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É:
`{keyof T & string}: ${T[keyof T]}`. –ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å —Å—É–∂–∞–µ—Ç –∫–ª—é—á–∏ `T` –¥–æ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö.
–í—Ç–æ—Ä–∞—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

```typescript
import type { Expect, Equal } from 'type-testing';

// –†–µ—à–µ–Ω–∏–µ
type Excuse<T extends Record<string, string>> = {
    new(input: T): `${keyof T & string}: ${T[keyof T]}`;
};

// –¢–µ—Å—Ç—ã
const existingExcuses = {
    karaoke: ['Kendrick Lamar, Opeth'],
    margarita: 'Peppermint-Jalape√±o Mojito',
}

const helpingTheReindeer = {
    helping: 'the reindeer',
} as const;
declare const Excuse0: Excuse<typeof helpingTheReindeer>;
const excuse0 = new Excuse0({
    ...existingExcuses,
    ...helpingTheReindeer,
});
type t0_actual = typeof excuse0;
type t0_expected = "helping: the reindeer";
type t0 = Expect<Equal<t0_actual, t0_expected>>;

const eatingFudge = {
    eating: 'fudge',
} as const;
declare const Excuse1: Excuse<typeof eatingFudge>;
const excuse1 = new Excuse1({
    ...existingExcuses,
    ...eatingFudge,
});
type t1_actual = typeof excuse1;
type t1_expected = "eating: fudge";
type t1 = Expect<Equal<t1_actual, t1_expected>>;
```