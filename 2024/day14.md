# –°–∞–Ω—Ç–∞ –ø—Ä—è—á–µ—Ç—Å—è –∑–∞ –æ–±–∑–æ—Ä–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üá∫üá∏ –û–ø–∏—Å–∞–Ω–∏–µ

> [üéÖ Santa] Sadly, she's no longer a 10.
>
> [üé© Bernard] Are we talking about the same thing??
>
> [üéÖ Santa] Huh? Oh. Right, you were talking about the reindeer.
>
> [üé© Bernard] Yeah, what were you talking about?
>
> [üéÖ Santa] Nothing, nothing. So just tell them they'll get their raise when
> they can show some dedication to this business.
>
> [üé© Bernard] The thing is they feel like they've more than accomplished that over the last 15 years
> since they last got a pay increase.
>
> [üéÖ Santa] Tell them we'll review it during the next performance review.
>
> [üé© Bernard, facepalming] And when is that?
>
> [üéÖ Santa] When their performance improves! You think I just give raises to anyone who pulls a sleigh?
> This isn‚Äôt charity.

We need a type for a function that represents the performance review cycle. With this function in hand,
perhaps üé© Bernard will be able to convince üéÖ Santa to take the reindeer's demands more seriously.

## üá∑üá∫ –û–ø–∏—Å–∞–Ω–∏–µ

> [üéÖ –°–∞–Ω—Ç–∞] –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ "–¥–µ—Å—è—Ç–∫–∞".
>
> [üé© –ë–µ—Ä–Ω–∞—Ä–¥] –ú—ã —Ç–æ—á–Ω–æ –æ–± –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –≥–æ–≤–æ—Ä–∏–º??
>
> [üéÖ –°–∞–Ω—Ç–∞] –ß—Ç–æ? –û–π. –î–∞, —Ç—ã –∂–µ –≥–æ–≤–æ—Ä–∏–ª –æ —Å–µ–≤–µ—Ä–Ω—ã—Ö –æ–ª–µ–Ω—è—Ö.
>
> [üé© –ë–µ—Ä–Ω–∞—Ä–¥] –ê —Ç—ã –æ —á–µ–º –≥–æ–≤–æ—Ä–∏–ª?
>
> [üéÖ –°–∞–Ω—Ç–∞] –ù–∏ –æ —á–µ–º, –Ω–∏ –æ —á–µ–º. –°–∫–∞–∂–∏ –∏–º, —á—Ç–æ –æ–Ω–∏ –ø–æ–ª—É—á–∞—Ç –ø–æ–≤—ã—à–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —Å–º–æ–≥—É—Ç –ø—Ä–æ—è–≤–∏—Ç—å –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å —ç—Ç–æ–º—É –¥–µ–ª—É.
>
> [üé© –ë–µ—Ä–Ω–∞—Ä–¥] –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ —É–∂–µ –¥–æ–∫–∞–∑–∞–ª–∏ —ç—Ç–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –ª–µ—Ç —Å —Ç–µ—Ö –ø–æ—Ä,
> –∫–∞–∫ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –ø–æ–ª—É—á–∏–ª–∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã.
>
> [üéÖ –°–∞–Ω—Ç–∞] –°–∫–∞–∂–∏ –∏–º, —á—Ç–æ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–∑–æ—Ä–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
>
> [üé© –ë–µ—Ä–Ω–∞—Ä–¥, —Ö–ª–æ–ø–∞—è —Å–µ–±—è –ø–æ –ª–±—É] –ê –∫–æ–≥–¥–∞ —ç—Ç–æ –±—É–¥–µ—Ç?
>
> [üéÖ –°–∞–Ω—Ç–∞] –ö–æ–≥–¥–∞ –∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏—Ç—Å—è! –¢—ã –¥—É–º–∞–µ—à—å, —è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –¥–∞—é –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞–∂–¥–æ–º—É,
> –∫—Ç–æ –≤–µ–∑–µ—Ç —Å–∞–Ω–∏? –≠—Ç–æ —Ç–µ–±–µ –Ω–µ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–ù–∞–º –Ω—É–∂–µ–Ω —Ç–∏–ø –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–π —Ü–∏–∫–ª –æ–±–∑–æ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ò–º–µ—è —Ç–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–º–æ–∂–Ω–æ, üé© –ë–µ—Ä–Ω–∞—Ä–¥ —Å–º–æ–∂–µ—Ç —É–±–µ–¥–∏—Ç—å üéÖ –°–∞–Ω—Ç—É –æ—Ç–Ω–µ—Å—Ç–∏—Å—å –∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å–µ–≤–µ—Ä–Ω—ã—Ö –æ–ª–µ–Ω–µ–π –±–æ–ª–µ–µ —Å–µ—Ä—å–µ–∑–Ω–æ.

## üíª –†–µ—à–µ–Ω–∏–µ

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∏–ø `PerfReview`, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π,
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å –ø–æ–º–æ—â—å—é `yield` –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ.

–§—É–Ω–∫—Ü–∏–∏ `numberAsyncGenerator` –∏ `stringAsyncGenerator` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã —Ç–∏–ø–∞ `AsyncGenerator`,
–∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É `AsyncGenerator<Y, R, N>`, –≥–¥–µ:

* `Y` ‚Äî —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —á–µ—Ä–µ–∑ `yield`;
* `R` ‚Äî —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Å –ø–æ–º–æ—â—å—é `return`;
* `N` ‚Äî —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π, –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö —á–µ—Ä–µ–∑ `next`.

–ù–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Ç–æ–ª—å–∫–æ `Y` ‚Äî —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–∞—ë—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.

```typescript
import type { Expect, Equal } from 'type-testing';

// –†–µ—à–µ–Ω–∏–µ
type PerfReview<T> = T extends AsyncGenerator<infer Params, any, any> ? Params : never;

// –¢–µ—Å—Ç—ã
async function* numberAsyncGenerator() {
    yield 1;
    yield 2;
    yield 3;
}

type t0_type = typeof numberAsyncGenerator;
type t0_actual = PerfReview<ReturnType<t0_type>>;
type t0_expected = 1 | 2 | 3;
type t0 = Expect<Equal<t0_actual, t0_expected>>;

async function* stringAsyncGenerator() {
    yield '1%';
    yield '2%';
}

type t1_type = typeof stringAsyncGenerator;
type t1_actual = PerfReview<ReturnType<t1_type>>;
type t1_expected = "1%" | "2%";
type t1 = Expect<Equal<t1_actual, t1_expected>>;
```