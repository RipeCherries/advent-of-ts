# –ú–∞–≥–∏—á–µ—Å–∫–æ–µ –∫–∞—Ä—Ä–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—É–º–æ–º: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–¥–µ–∏

## üá∫üá∏ –û–ø–∏—Å–∞–Ω–∏–µ

> [The reindeer have made it clear: they will expose üíã Crystal Claus for her 
> affair with ü™© Jamie Glittergum to üéÖ Santa if üíã Crystal can't convince üéÖ Santa how to give the reindeer a raise.]
>
> [üéÖ Santa] Across the whole internet, all I see is adult children! WHAT'S IT GOING TO 
> TAKE TO GET PIPELINE OPERATORS INTO THIS FORSAKEN LANGUAGE!?!
>
> [üíã Crystal] Dear, stop reading the Node.JS release notes. 
> The TC-39 is gonna keep pipeline operators at stage 2 for the next 100 years at this point. Come. 
> Have some some dinner. I've made curry.
>
> [The two eat dinner together, but üéÖ Santa starts to feel a little strange..]
>
> [üíã Crystal] Are you feeling alright, Dear?
>
> [üéÖ Santa] No, in fact.. I'm not. I'm feeling a bit fuzzy.
>
> [üíã Crystal] That's great to hear.
>
> [üéÖ Santa, eyelids getting heavy] What?
>
> [üíã Crystal] I had a friend of mine, ü™© Jamie Glitterglum, brew a magic memory implanting glitter potion. 
> This will all be over soon, Dear.
>
> [üéÖ Santa, fading] How could you... do... that...
>
> [üíã Crystal] You'll fall asleep, and then I'm going to have a little talk with your subconscious mind. 
> Christopher Nolan can't hold a candle to what ü™© Jamie can do.

Well that took a dark turn. You're an accessory to the crime, now. Congrats. 
Now you have no choice but to help üíã Crystal with the coverup.

The `originalCurry` had to have some special ingredients added to it, but üíã Crystal 
couldn't be sure if üéÖ Santa would see her cooking. So, to avoid raising suspicion, 
she had to find a way to be able to add the ingredients at different times.

## üá∑üá∫ –û–ø–∏—Å–∞–Ω–∏–µ

> [–û–ª–µ–Ω–∏ —è—Å–Ω–æ –¥–∞–ª–∏ –ø–æ–Ω—è—Ç—å: –æ–Ω–∏ —Ä–∞—Å—Å–∫–∞–∂—É—Ç üéÖ –°–∞–Ω—Ç–µ –æ–± –∏–Ω—Ç—Ä–∏–∂–∫–µ üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –ö–ª–∞—É—Å —Å ü™© –î–∂–µ–π–º–∏ –ì–ª–∏—Ç—Ç–µ—Ä–≥–∞–º–æ–º, 
> –µ—Å–ª–∏ üíã –ö—Ä–∏—Å—Ç–∞–ª–ª –Ω–µ —É–±–µ–¥–∏—Ç üéÖ –°–∞–Ω—Ç—É –ø–æ–≤—ã—Å–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É –æ–ª–µ–Ω—è–º.]
> 
> [üéÖ –°–∞–Ω—Ç–∞] –í–æ –≤—Å—ë–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —è –≤–∏–∂—É —Ç–æ–ª—å–∫–æ –≤–∑—Ä–æ—Å–ª—ã—Ö –¥–µ—Ç–µ–π! 
> –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨, –ß–¢–û–ë–´ –ó–ê–°–¢–ê–í–ò–¢–¨ –û–ü–ï–†–ê–¢–û–†–û–í –ü–ê–ô–ü–õ–ê–ô–ù–û–í –†–ê–ó–û–ë–†–ê–¢–¨–°–Ø –° –≠–¢–ò–ú –ü–†–û–ö–õ–Ø–¢–´–ú –Ø–ó–´–ö–û–ú?!
> 
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –î–æ—Ä–æ–≥–æ–π, –ø–µ—Ä–µ—Å—Ç–∞–Ω—å —á–∏—Ç–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –∫ –≤—ã–ø—É—Å–∫—É Node.js. 
> TC-39 –æ—Å—Ç–∞–≤–∏—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ –Ω–∞ –≤—Ç–æ—Ä–æ–º —ç—Ç–∞–ø–µ –µ—â—ë –ª–µ—Ç –Ω–∞ —Å—Ç–æ. –î–∞–≤–∞–π. –£–∂–∏–Ω –≥–æ—Ç–æ–≤. –Ø –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∞ –∫–∞—Ä—Ä–∏.
> 
> [–û–Ω–∏ —É–∂–∏–Ω–∞—é—Ç –≤–º–µ—Å—Ç–µ, –Ω–æ üéÖ –°–∞–Ω—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —Å—Ç—Ä–∞–Ω–Ω–æ...]
> 
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –¢—ã –≤ –ø–æ—Ä—è–¥–∫–µ, –¥–æ—Ä–æ–≥–æ–π?
> 
> [üéÖ –°–∞–Ω—Ç–∞] –ù–µ—Ç, –≤–æ–æ–±—â–µ-—Ç–æ... –Ω–µ –≤ –ø–æ—Ä—è–¥–∫–µ. –ö–∞–∫ –±—É–¥—Ç–æ –≤ –≥–æ–ª–æ–≤–µ —Ç—É–º–∞–Ω.
> 
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –≠—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ.
>
> [üéÖ –°–∞–Ω—Ç–∞, —Å —Ç—è–∂–µ–ª–µ—é—â–∏–º–∏ –≤–µ–∫–∞–º–∏] –ß—Ç–æ?
> 
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –ú–æ–π –¥—Ä—É–≥ ü™© –î–∂–µ–π–º–∏ –ì–ª–∏—Ç—Ç–µ—Ä–≥–∞–º –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –≤–æ–ª—à–µ–±–Ω–æ–µ –∑–µ–ª—å–µ —Å –ø–∞–º—è—Ç—å—é –∏–∑ –±–ª—ë—Å—Ç–æ–∫. 
> –í—Å—ë —Å–∫–æ—Ä–æ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –¥–æ—Ä–æ–≥–æ–π.
> 
> [üéÖ –°–∞–Ω—Ç–∞, –æ—Å–ª–∞–±–µ–≤–∞—è] –ö–∞–∫ —Ç—ã –º–æ–≥–ª–∞... —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å...
> 
> [üíã –ö—Ä–∏—Å—Ç–∞–ª–ª] –¢—ã —É—Å–Ω—ë—à—å, –∞ –ø–æ—Ç–æ–º —è –Ω–µ–º–Ω–æ–≥–æ –ø–æ–±–µ—Å–µ–¥—É—é —Å —Ç–≤–æ–∏–º –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ–º. 
> –î–∞–∂–µ –ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –ù–æ–ª–∞–Ω –Ω–µ —Å—Ä–∞–≤–Ω–∏—Ç—Å—è —Å —Ç–µ–º, –Ω–∞ —á—Ç–æ —Å–ø–æ—Å–æ–±–µ–Ω ü™© –î–∂–µ–π–º–∏.

–¢–∞–∫–æ–π –ø–æ–≤–æ—Ä–æ—Ç! –¢–µ–ø–µ—Ä—å —Ç—ã —Å–æ—É—á–∞—Å—Ç–Ω–∏–∫ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è. –ü–æ–∑–¥—Ä–∞–≤–ª—è—é. 
–£ —Ç–µ–±—è –Ω–µ—Ç –≤—ã–±–æ—Ä–∞, –∫—Ä–æ–º–µ –∫–∞–∫ –ø–æ–º–æ—á—å üíã –ö—Ä–∏—Å—Ç–∞–ª–ª —Å–∫—Ä—ã—Ç—å –≤—Å—ë —ç—Ç–æ.

`originalCurry` –ø—Ä–∏—à–ª–æ—Å—å –Ω–µ–º–Ω–æ–≥–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏, –Ω–æ üíã –ö—Ä–∏—Å—Ç–∞–ª –Ω–µ –±—ã–ª–∞ —É–≤–µ—Ä–µ–Ω–∞, 
—á—Ç–æ üéÖ –°–∞–Ω—Ç–∞ –∑–∞–º–µ—Ç–∏—Ç –µ—ë –≥–æ—Ç–æ–≤–∫—É. –ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–π, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± 
–¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è.

## üíª –†–µ—à–µ–Ω–∏–µ

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –æ–±—ä—è–≤–ª—è–µ–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ç–∏–ø `DynamicParamsCurrying` –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ 
–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –æ–∂–∏–¥–∞—é—â—É—é –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `Args['length']` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `Parameters<T>['length']`, 
–º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `ReturnType<T>`. –ò–Ω–∞—á–µ —Ä–µ–∫—É—Ä—Å–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.

`DropFirst:` —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–µ—Ä–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ —Ç–∏–ø–æ–≤, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Å –Ω–µ–ø–æ–ª–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.

```typescript
// –†–µ—à–µ–Ω–∏–µ
type DropFirst<AllArgs extends any[], ProvidedArgs extends any[]> =
    ProvidedArgs['length'] extends 0
        ? AllArgs
        : AllArgs extends [infer First, ...infer Rest]
            ? ProvidedArgs extends [First, ...infer RestProvided]
                ? DropFirst<Rest, RestProvided>
                : never
            : never;

type DynamicParamsCurrying<Func extends (...args: any[]) => any> =
    <ProvidedArgs extends Partial<Parameters<Func>>>(...args: ProvidedArgs) =>
        ProvidedArgs['length'] extends Parameters<Func>['length']
            ? ReturnType<Func>
            : DynamicParamsCurrying<(...remainingArgs: DropFirst<Parameters<Func>, ProvidedArgs>) => ReturnType<Func>>

declare function DynamicParamsCurrying<Func extends (...args: any[]) => any>(func: Func): DynamicParamsCurrying<Func>;

// –¢–µ—Å—Ç—ã
const originalCurry = (
    ingredient1: number,
    ingredient2: string,
    ingredient3: boolean,
    ingredient4: Date,
) => true;

const spikedCurry = DynamicParamsCurrying(originalCurry);

// Direct call
const t0 = spikedCurry(0, "Ziltoid", true, new Date());

// Partially applied
const t1 = spikedCurry(1)("The", false, new Date());

// Another partial
const t2 = spikedCurry(0, "Omniscient", true)(new Date());

// You can keep callin' until the cows come home: it'll wait for the last argument
const t3 = spikedCurry()()()()(0, "Captain", true)()()()(new Date());

// currying is ok
const t4 = spikedCurry(0, "Spectacular", true);

// @ts-expect-error arguments provided in the wrong order
const e0 = spikedCurry("Nebulo9", 0, true)(new Date());
```